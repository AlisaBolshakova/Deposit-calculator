<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        form {
            margin: 0 auto;
            width: 70%;
            font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
                "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
            font-size: 16pt;
            border: 1px solid black;
            padding: 10px;
        }

        #color {
            margin-top: 30px;
            width: 100%;
            height: 15px;
            border: 1px solid black;
            background: linear-gradient(to right, green, yellow, red);
        }

        input {
            width: 100%;
            font-size: 16pt;
        }

        .hidden {
            display: none;
        }
    </style>
        <script>
            document.addEventListener('DOMContentLoaded', function () { //Метод addEventListener позволяет назначить на элемент обработчики событий. С его помощью, можно указать, например, что делать при клике по кнопке или что делать при наборе текста в текстовом поле. В первом параметре указываем тип передаваемого события, во втором - функцию, которая будет срабатывать после события, указанного в первом параметре.// 
                //Событие DOMContentLoaded гарантирует, что DOM готов. Можно искать узлы по нему и не бояться, что что-то не догрузилось. Событие load дополнительно гарантирует, что все стили и картинки готовы.//
    
                const form = document.getElementById('form'); //Метод getElementById позволяет получить элемент страницы по его атрибуту id. С полученным элементом можно будет производить различные манипуляции: менять его текст, атрибуты, CSS стили и так далее.
                let resultText = document.getElementById('resultPercent');
    
                form.addEventListener('change', function (event) { //Метод addEventListener позволяет назначить на элемент обработчики событий. С его помощью, можно указать, например, что делать при клике по кнопке или что делать при наборе текста в текстовом поле. В первом параметре указываем тип передаваемого события, во втором - функцию, которая будет срабатывать после события, указанного в первом параметре.//
                    const simpleRadio = document.getElementById('simple'); //создается постоянная переменная, которая связывается по id с кнопкой переключения простых процентов//
                    const complicatedRadio = document.getElementById('complicated'); //создается постоянная переменная, которая связывается по id с кнопкой переключения сложных процентов//
                    let summInput = document.getElementById('summ');//создается переменная, которая связывается по id с полем ввода суммы//
                    let rateInput = document.getElementById('rate');//создается переменная, которая связывается по id с полем ввода процентной ставки//
                    let periodInput = document.getElementById('period');//создается переменная, которая связывается по id с полем ввода срока вклада//
                    let summ = parseInt(summInput.value);//Функция parseInt преобразует строку в целое число. Это нужно для значений типа '12px' - когда вначале стоит число, а потом единицы измерения. Если применить функцию parseInt к '12px', то результатом получится число 12 (и это будет действительно число, а не строка).
                    let rate = parseInt(rateInput.value);//Функция parseInt преобразует строку в целое число. Это нужно для значений типа '12px' - когда вначале стоит число, а потом единицы измерения. Если применить функцию parseInt к '12px', то результатом получится число 12 (и это будет действительно число, а не строка).//
                    let period = parseInt(periodInput.value); //Функция parseInt преобразует строку в целое число. Это нужно для значений типа '12px' - когда вначале стоит число, а потом единицы измерения. Если применить функцию parseInt к '12px', то результатом получится число 12 (и это будет действительно число, а не строка).//
                    let dayK = 365;
                    let totalS = 0;
                    let textTotal = document.getElementById('total');
    
                    if (simpleRadio.checked) {//функция подсчета при выборе простых процентов//
                        totalS = (((summ * rate * period) / dayK) / 100);
                        textTotal.innerText = totalS.toFixed(2);//innerText - это свойство, позволяющее задавать или получать текстовое содержимое элемента и его потомков.//
                        resultText.innerText = 'Проценты по вкладу без капитализации, в руб.: '; //вычисленное значение записывается в строчку с указанным текстом//
                    } else if (complicatedRadio.checked) {//в ином случае, если выбран подсчет сложных процентов//
                        let depositPeriodMonths = parseInt(period / 30); //вводится переменная для срока вклада в месяцах и переводится с помощью parseInt в числовое значение//
                        function calculateDepositProfit(summ, rate, depositPeriodMonths, dayK) {//функция для подсчета прибыли//
                            let totalAmount = summ;//вводится переменная окончательного количества профита//
    
                            for (let i = 0; i < depositPeriodMonths; i++) {////
                                let dailyProfit = (totalAmount * rate * 30 / dayK) / 100;//ежедневная прибыль=(конечное количество * на % ставку * число дней в году/100)//
                                totalAmount = parseFloat(totalAmount + dailyProfit);//parseFloat преобразует строковое значение в число с плавающей запятой; окончательная сумма=предыдущее значение окончательной суммы + ежедневная прибыль//
                                
                                console.log("dailyProfit: " + dailyProfit);//выводится значение ежедневной прибыли//
                                console.log("totalAmount: " + totalAmount);//выводится значение окончательной суммы//
    
                            }
    
                            return totalAmount - summ;//возвращается значение окончательной суммы
                        }
                        totalS = calculateDepositProfit(summ, rate, depositPeriodMonths, dayK); //окончательное количество процентов вычисляется//
    
                        textTotal.innerText = totalS.toFixed(2);//innerText - это свойство, позволяющее задавать или получать текстовое содержимое элемента и его потомков. tofixed(2) - оставляет только 2 значения после запятой//
                        resultText.innerText = 'Проценты по вкладу c капитализацией, в руб.: ';//результат записывается в строку с указанным текстом//
                    }
                });
            });
        </script>
</head>
<body>
    <form name="calculation" id="form">
        <legend>Выберите формат вклада:</legend>
        <div>
            <input type="radio" id="simple" value="simple" name="choice" checked />
            <label>без капитализации процентов</label>
        </div>
        <div>
            <input type="radio" id="complicated" value="complicated" name="choice" />
            <label>с капитализацией процентов</label>
        </div>
        <br>
        Сумма вклада:
        <input type="text" id="summ" value="10000" min="10000" max="100000000" step="10000"
            oninput="range.value = summ.value" />
        <div id="color"></div>
        <input type="range" id="range" value="10000" step="1" min="10000" max="100000000"
            oninput="summ.value=range.value" />
        <datalist>
            <option value="10000"></option>
        </datalist>
        <br />
        Годовая ставка по депозиту, в % :
        <input type="number" id="rate" value="10" />
        <br>
        <div id="periodNoCap">
            Срок размещения денежных средств (в днях):
            <input type="number" id="period" value="365" min="1" />
        </div>
        <div class="hidden" id="periodCap">
            Срок размещения денежных средств (в месяцах):
            <input type="number" id="periodM" value="1" min="1" />
        </div>
        <br>
        <p><span id="resultPercent">Проценты по вкладу без капитализации, в руб.: </span><span id="total">1000.00</span>
        </p>
    </form>
</body>

</html>